# T-EP1-004-001: Create product photo upload API endpoint

## Title
Create product photo upload API endpoint

## Description

Implement POST /api/products/{id}/photos endpoint for uploading product reference photos with validation, storage, and database tracking.

**Purpose:**
- Allow administrators to upload product photos
- Validate file formats and sizes
- Store photos using IFileStorageService
- Track photo metadata in database

**Details:**
- POST /api/products/{id}/photos with multipart/form-data
- File validation: JPG/PNG only, size limits
- Generate unique file names to prevent conflicts
- Store file using IFileStorageService (local/S3)
- Create ProductPhoto record with DisplayOrder
- Set first photo as IsPrimary if no primary exists
- Return uploaded photo information

**References:**
- User Story: `Documentos/Historias/HU-EP1-004.md` (all scenarios)
- File storage: IFileStorageService from T-EP1-001-005
- Existing patterns: Check file upload patterns in codebase

## Acceptance Criteria

- [ ] Photo upload endpoint implemented
- [ ] File format validation (JPG, PNG only)
- [ ] File size validation
- [ ] Unique file naming implemented
- [ ] File storage integration working
- [ ] ProductPhoto record created
- [ ] IsPrimary logic implemented
- [ ] Proper error responses

## Priority
High (photo functionality core)

## Estimation
3 SP

## Assignment
Backend - API

## Tags
HU-EP1-004, api, file-upload, photos, storage, validation, product-module

## Links
- User Story: `Documentos/Historias/HU-EP1-004.md`
- Depends on: T-EP1-001-005, T-EP1-001-004
