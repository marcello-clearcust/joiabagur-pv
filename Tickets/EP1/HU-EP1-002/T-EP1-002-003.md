# T-EP1-002-003: Integration tests for product creation endpoint

## Title
Integration tests for product creation endpoint

## Description

Create integration tests for POST /api/products endpoint using WebApplicationFactory and Testcontainers to verify product creation functionality with real database operations.

**Purpose:**
- Test complete product creation workflow
- Verify validation, business rules, and data persistence
- Ensure API security and error handling

**Details:**
- Test successful product creation
- Test validation errors (missing fields, invalid price)
- Test SKU uniqueness constraint
- Test collection assignment (existing and non-existing)
- Test authentication and authorization
- Verify database state after creation
- Test audit fields (CreatedAt, IsActive)

**References:**
- Testing guide: `Documentos/Testing/Backend/03-testcontainers.md`
- User Story scenarios: All acceptance criteria in HU-EP1-002
- Stack: WebApplicationFactory, Testcontainers, PostgreSQL

## Acceptance Criteria

- [ ] Successful product creation tested end-to-end
- [ ] All validation scenarios tested
- [ ] SKU uniqueness constraint tested
- [ ] Collection assignment tested
- [ ] Authentication and authorization tested
- [ ] Database state verification
- [ ] Proper error responses for invalid inputs

## Priority
Medium (ensures API reliability)

## Estimation
3 SP

## Assignment
Backend - Tests

## Tags
HU-EP1-002, test, integration-test, testcontainers, postgresql, api, product-module

## Links
- User Story: `Documentos/Historias/HU-EP1-002.md`
- Testing Guide: `Documentos/Testing/Backend/03-testcontainers.md`
- Depends on: T-EP1-002-001
